<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSVP</title>
    <link rel="stylesheet" href="../styles.css">
    <link href='https://fonts.googleapis.com/css?family=Ms Madi' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Content' rel='stylesheet'>
    
</head>
<body>
    <header>
         <nav class="nav-container">
            <button id="menuToggle" aria-expanded="false" aria-controls="quickLinks">Menu â–¾</button>
            <div id="quickLinks" class="quick-links" hidden>
                <a href="../index.html">Home</a>
                <a href="donations.html">Gifts/Donations</a>
                <a href="FAQ.html">FAQ</a>
            </div>
        </nav>
        <h1>RSVP to Our Wedding</h1>
    </header>
    <img src="" alt="Engagement Photo">
    <main>
        <button id="open_rsvp" onclick="openRSVPModal()">RSVP Now</button>
        <div id="rsvp_modal">
            <div class="modal-content">
                <span id="close_modal" style="cursor:pointer;float:right;font-size:1.5em;" onclick="closeRSVPModal()">&times;</span>
                <h2>RSVP to Our Wedding</h2>
                <form id="rsvpForm">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>

                    <label for="plus_one">Plus One:</label>
                    <input type="text" id="plus_one" name="plus_one">

                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>

                    <label for="dietary">Dietary Restrictions:</label>
                    <input type="text" id="dietary" name="dietary">

                    <label for="attendance">Will you attend?</label>
                    <select id="attendance" name="attendance" required>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>

                    <button type="submit">Submit RSVP</button>
                </form>
                <div id="rsvp_message" style="margin-top:10px;"></div>
            </div>
        </div>
    </main>
    <footer>
        <p>&copy; 2026 Meranda and Nikko Wedding</p>
    </footer>
    <script>
    function openRSVPModal() {
        document.getElementById('rsvp_modal').style.display = 'block';
    }
    function closeRSVPModal() {
        document.getElementById('rsvp_modal').style.display = 'none';
    }
    // AJAX RSVP submission
    document.addEventListener('DOMContentLoaded', function() {
        var form = document.getElementById('rsvpForm');
        if (form) {
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                var name = document.getElementById('name').value;
                var plusOne = document.getElementById('plus_one').value;
                var email = document.getElementById('email').value;
                var attendance = document.getElementById('attendance').value;
                var dietary = document.getElementById('dietary').value;
                var messageDiv = document.getElementById('rsvp_message');
                fetch('http://localhost:3000/rsvp', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ name, email, attendance, dietary })
                })
                .then(response => response.json())
                .then(data => {
                    messageDiv.textContent = 'Thank you for your RSVP!';
                    form.reset();
                })
                .catch(error => {
                    messageDiv.textContent = 'There was an error submitting your RSVP.';
                });
            });
        }
    });
    </script>
    <script src="../scripts.js"></script>
</body>
</html>
